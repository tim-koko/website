<!--layouts/shortcodes/blogposts.html-->
{{- $slugparam :=  (.Get "blogslugs") -}}
{{- $displaytype :=  (.Get "displaytype") -}}
{{- $slugs :=  split $slugparam "," -}}
{{ if $slugs }}
    {{ if eq $displaytype "bloglistsmall" }}

    <div class="row">
    {{ range $post := $slugs }}
        {{ range where (where $.Site.RegularPages "Section" "blog") ".Params.slug" "in" ($post) }}
    <div class="col-4 col-xl  d-flex flex-column mb-5 position-relative {{ if .Params.img_border }} needsborder {{ end }}">
        {{ with .Params.post_img }}
        {{ partial "img-srcset.html" (dict "img" . "size" 500  ) }}
        {{ end }}

        <div class="d-flex my-4 my-lg-4 small text-white">
        <div class="d-flex flex-wrap">
            {{ range $key, $value := .Params.categories }}
            <span class="extra-small mb-2 me-1 px-3 py-1 border border-2 border-light rounded-pill">{{ $value }}</span>
            {{ end }}
        </div>
            {{ if .Date }}
            <div class="ms-auto nowrap">{{ .Date.Format "02.01.2006" }}</div>
            {{ end }}
        </div>
            <h6 class="h4 mb-4">{{ .Title }}</h6>
            <a href="{{ .RelPermalink }}" class="stretched-link me-auto small">{{ i18n "readMore" }}
            <div class="icon-draw line"><svg xmlns="http://www.w3.org/2000/svg" width="84" height="10" viewBox="0 0 91.45565 10.81185"><path vector-effect="non-scaling-stroke" d="M1.41188,3.81092c30.82411-1.61772,52.39289,5.57187,86.64564,1.56359" fill="none" fill-rule="evenodd" stroke="#99e0bb" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg></div>
            </a>
    </div>

        {{ end }}
    {{ end }}
    </div>
    {{ else }}
    <div class="col-lg-12 offset-lg-0 pt-20">
        {{ range $slugs }}
        {{ range where (where $.Site.RegularPages "Section" "blog") ".Params.slug" "in" (.) }}
            {{- partial "content-blog" . -}}
        {{ end }}
        {{ end }}
    </div>
    {{ end }}
{{ end }}